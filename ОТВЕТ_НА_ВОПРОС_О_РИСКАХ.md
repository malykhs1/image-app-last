# –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ —Ä–∏—Å–∫–∞—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞

## ‚ùì –í–æ–ø—Ä–æ—Å

> "–ï—Å–ª–∏ –º—ã –æ–±–Ω–æ–≤–ª—è–µ–º –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –Ω–µ –±—É–¥–µ—Ç –ª–∏ —Ä–∏—Å–∫–∞, —á—Ç–æ –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç —á—É–∂–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π art –∫–∞–∫ —Å–≤–æ–π? –¢–∞–∫–∂–µ –¥—É–º–∞—é –æ –º–µ—Å—Ç–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ emails (–Ω–∞–ø—Ä–∏–º–µ—Ä, summary email) - —Ç–∞–∫–æ–π —Ä–∏—Å–∫ –≤–æ–∑–º–æ–∂–µ–Ω?"

## ‚úÖ –û–¢–í–ï–¢: –î–ê, –†–ò–°–ö –°–£–©–ï–°–¢–í–£–ï–¢ –ò –û–ù –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

### üö® –ì–¥–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ö–æ—Ä–∑–∏–Ω–∞ –∏ Cart-Drawer** - ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
   - –ï—Å–ª–∏ –º–µ–∂–¥—É –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –∫—Ç–æ-—Ç–æ –æ–±–Ω–æ–≤–∏—Ç –ø—Ä–æ–¥—É–∫—Ç ‚Üí –ø–æ–∫–∞–∂–µ—Ç—Å—è —á—É–∂–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

2. **Checkout —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - ‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
   - –í checkout –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
   - –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω, –∞ –∑–∞—Ç–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å ‚Üí checkout –ø–æ–∫–∞–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

3. **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (Order confirmation, Shipping, etc.) - üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö**
   - –í –ø–∏—Å—å–º–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ Shopify
   - –ï—Å–ª–∏ –º–µ–∂–¥—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –∑–∞–∫–∞–∑–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–∏—Å—å–º–∞ –∫—Ç–æ-—Ç–æ –æ–±–Ω–æ–≤–∏–ª —Ç–æ–≤–∞—Ä ‚Üí **–∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç email —Å —á—É–∂–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º**
   - –≠—Ç–æ —Å–∞–º–∞—è —Å–µ—Ä—å–µ–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞!

4. **–ó–∞–∫–∞–∑—ã –≤ Shopify Admin** - ‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
   - –ü—Ä–æ–¥–∞–≤–µ—Ü –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∑–∞–∫–∞–∑–∞

5. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞** - ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–π–¥–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## ‚úÖ –†–ï–®–ï–ù–ò–ï: Line Item Properties

–ú—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —ç—Ç–∏ —Ä–∏—Å–∫–∏:

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–û–¥–∏–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç** –≤ Shopify (ID: 8199461339251)
   - –° –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º (P_logo.png)

2. **–ö–∞—Å—Ç–æ–º–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Shopify CDN**
   - –ü–æ–ª—É—á–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π URL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ artwork

3. **URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Line Item Properties**
   ```json
   {
     "_image_url": "https://cdn.shopify.com/s/files/...",
     "_anvil_id": "..."
   }
   ```

4. **JavaScript –∑–∞–º–µ–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–¥—É–∫—Ç–∞
   - –í –∫–æ—Ä–∑–∏–Ω–µ (cart-drawer)
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä–∑–∏–Ω—ã (/cart)

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

‚úÖ **–ù–µ—Ç race conditions** - –∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Å–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  
‚úÖ **–ù–µ—Ç –∑–∞—Ö–ª–∞–º–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞** - –æ–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç –≤–º–µ—Å—Ç–æ —Ç—ã—Å—è—á  
‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ** - –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç —á–µ—Ä–µ–∑ API  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### ‚ö†Ô∏è –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã:

‚ùå **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (P_logo.png)
   - **–†–µ—à–µ–Ω–∏–µ**: –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å webhooks –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–∏—Å–µ–º

‚ùå **–ó–∞–∫–∞–∑—ã –≤ Shopify Admin** - –ø—Ä–æ–¥–∞–≤–µ—Ü —É–≤–∏–¥–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - **–†–µ—à–µ–Ω–∏–µ**: Anvil ID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ properties, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üì¶ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

‚úÖ –°–æ–∑–¥–∞–Ω–∞ –≤–µ—Ç–∫–∞ `line-item-properties`  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω server_code - —Ç–µ–ø–µ—Ä—å –ù–ï —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω client_code - –ø–µ—Ä–µ–¥–∞–µ—Ç image_url  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω shopify_page_script.js - –∑–∞–º–µ–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
‚úÖ –ù–∞–ø–∏—Å–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (LINE_ITEM_PROPERTIES_IMPLEMENTATION.md)  
‚úÖ –ó–∞–ø—É—à–µ–Ω–æ –≤ GitHub

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ
2. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –¥–æ–±–∞–≤–∏—Ç—å webhooks –¥–ª—è emails
3. **–ú–µ—Ä–¥–∂** –≤ master –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–í—ã–≤–æ–¥**: –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) **–æ–ø–∞—Å–µ–Ω** –∏ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø—Ä–æ–±–ª–µ–º–∞–º. –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (Line Item Properties) **–±–µ–∑–æ–ø–∞—Å–µ–Ω** –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
