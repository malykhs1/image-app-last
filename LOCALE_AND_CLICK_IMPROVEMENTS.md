# ๐ ะะพะบะฐะปะธะทะฐัะธั ะธ ัะปัััะตะฝะธะต ะปะพะณะธะบะธ ะบะปะธะบะพะฒ

## โ ะะตะฐะปะธะทะพะฒะฐะฝะฝัะต ะธะทะผะตะฝะตะฝะธั

### 1. **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ ะฟะพ URL ัะพะดะธัะตะปััะบะพะน ัััะฐะฝะธัั**

**ะัะพะฑะปะตะผะฐ:** ะฏะทัะบ ะพะฟัะตะดะตะปัะปัั ะฟะพ ะฟะฐัะฐะผะตััั `?locale=en`, ะฝะพ ะฝะฐ ัะฐะนัะต Paraloom ัะทัะบ ะพะฟัะตะดะตะปัะตััั ะฟะพ ะฟััะธ URL.

**ะะตัะตะฝะธะต:**
- `https://paraloom.co.il/` โ ะธะฒัะธั (default)
- `https://paraloom.co.il/en` โ ะฐะฝะณะปะธะนัะบะธะน

**ะะพะด:**
```python
# client_code/Create/__init__.py, ัััะพะบะธ 27-41
try:
  parent_url = anvil.js.window.parent.location.href
  if '/en' in parent_url:
    self.locale = 'en'
  else:
    self.locale = 'he'  # Default - ะธะฒัะธั
except:
  # Fallback: ะฟะฐัะฐะผะตัั URL ะธะปะธ default
  self.locale = url_params.get('locale', 'he')
```

---

### 2. **ะะพะปะฝะฐั ะปะพะบะฐะปะธะทะฐัะธั ะธะฝัะตััะตะนัะฐ ะฝะฐ ะธะฒัะธั**

ะัะต ัััะพะบะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ะธะฝัะตััะตะนัะฐ ัะตะฟะตัั ะฟะตัะตะฒะตะดะตะฝั ะฝะฐ ะธะฒัะธั:

#### `client_code/Create/__init__.py`

| **ะญะปะตะผะตะฝั** | **English** | **ืขืืจืืช** |
|-------------|-------------|-----------|
| File upload button | Upload Image | ืืขืืืช ืชืืืื |
| Create button | Create String Preview | ืฆืืจ ืืืืืืช ืืืืื |
| Upload title | Upload your image | ืืขืื ืืช ืืชืืืื ืฉืื |
| Upload subtitle | We support png and jpg files | ืืื ืชืืืืื ืืงืืฆื png ื-jpg |
| Close button | Close | ืกืืืจ |
| Step 1 | 1/3 File Upload | 1/3 ืืขืืืช ืงืืืฅ |
| Step 2 | 2/3 Adjust Crop | 2/3 ืืชืืืช ืืืชืื |
| Step 3 | 3/3 Get Your Creation | 3/3 ืงืื ืืช ืืืฆืืจื ืฉืื |

**Alert ัะพะพะฑัะตะฝะธั:**
- โ "File must be an image!" โ "ืืงืืืฅ ืืืื ืืืืืช ืชืืืื!"
- โ "Maximal size is 15 MB" โ "ืืืื ืืงืกืืืื ืืื 15 MB"
- โ "The server is currently unreachable" โ "ืืฉืจืช ืืจืืข ืืืื ืืืื. ืืื ืืกื ืฉืื ืืืืืจ ืืืชืจ."

---

#### `client_code/Creation/__init__.py`

| **ะญะปะตะผะตะฝั** | **English** | **ืขืืจืืช** |
|-------------|-------------|-----------|
| Add to cart button | Add to cart | ืืืกืคื ืืขืืื |
| String length | String length: X meters | ืืืจื ืืื: X ืืืจืื |
| Success message | Product added to cart successfully! | ืืืืฆืจ ืืืกืฃ ืืขืืื ืืืฆืืื! |
| Error message | Failed to add product to cart | ืืืฉื ืืืืกืคืช ืืืฆืจ ืืขืืื |

---

#### `client_code/AddFramePopup/__init__.py`

**ะฃะถะต ะฑัะปะพ ะปะพะบะฐะปะธะทะพะฒะฐะฝะพ:**
- ะะฐะณะพะปะพะฒะพะบ: "ืืฉืืืื ืืช ืืขืืฆืื ืืืจืื ืืืฉืื ืขื ืืกืืจืช ืขืฅ ืืขืืฆืืช"
- ะะฝะพะฟะบะธ: "ืืืืืจ ืืืชืจ" / "ืื ืืืงืฉื"

---

### 3. **ะฃะปัััะตะฝะฐ ะปะพะณะธะบะฐ ะบะปะธะบะฐ ะฝะฐ ะบะฐััะพัะบะธ ะฒ grid**

**ะงัะพ ะฟัะพะธััะพะดะธั ะฟัะธ ะบะปะธะบะต ะฝะฐ ะบะฐััะพัะบั:**

1. **ะะฐััะพัะบะฐ ะฟะตัะตะผะตัะฐะตััั ะฒ ะฝะฐัะฐะปะพ ัะฟะธัะบะฐ** `self.all_creations`
2. **ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะตัะตัะพะด ะฝะฐ ัะฐะณ 3**
3. **ะะฐััะพัะบะฐ ะฟะพะบะฐะทัะฒะฐะตััั ะฒ ะฐะบัะธะฒะฝะพะน ะทะพะฝะต:**
   - ะะพะปััะพะน ัะฐะทะผะตั
   - ะก ะบะฝะพะฟะบะพะน "Add to cart"
   - ะ ัะตะฝััะต ัะบัะฐะฝะฐ
4. **ะััะฐะปัะฝัะต ะบะฐััะพัะบะธ** ะฟะพะบะฐะทัะฒะฐัััั ะฒ grid ะฟะพะด ัััะตัะพะผ

**ะะพะด:**
```python
# client_code/Create/__init__.py, ัััะพะบะธ 423-443
def on_previous_creation_click(self, grid_index):
  """
  ะะฑัะฐะฑะพััะธะบ ะบะปะธะบะฐ ะฝะฐ ะฟัะตะดัะดััะธะน ัะพะฒะฐั ะฒ grid.
  ะัะธ ะบะปะธะบะต ะบะฐััะพัะบะฐ ะฟะตัะตะฝะพัะธััั ะฒ ะฐะบัะธะฒะฝัั ะทะพะฝั (ัะตะฝัั) ะฝะฐ ัะฐะณะต 3.
  """
  # ะะตัะตะผะตัะฐะตะผ ะบะปะธะบะฝัััั ะบะฐััะพัะบั ะฒ ะฝะฐัะฐะปะพ ัะฟะธัะบะฐ
  clicked_creation = self.all_creations.pop(list_index)
  self.all_creations.insert(0, clicked_creation)
  
  # ะะตัะตัะพะดะธะผ ะฝะฐ ัะฐะณ 3, ะณะดะต ะฟะตัะฒะฐั ะบะฐััะพัะบะฐ ะฟะพะบะฐะทัะฒะฐะตััั ะฒ ะฐะบัะธะฒะฝะพะน ะทะพะฝะต
  self.set_step(3)
```

---

## ๐ฏ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### ะกัะตะฝะฐัะธะน ะธัะฟะพะปัะทะพะฒะฐะฝะธั:

1. **ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐ https://paraloom.co.il/**
   - ะฏะทัะบ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฟัะตะดะตะปัะตััั ะบะฐะบ **ะธะฒัะธั**
   - ะัะต ะบะฝะพะฟะบะธ, labels, alerts ะฝะฐ ะธะฒัะธัะต
   - ะจัะธัั Rubik ะดะปั ะฟัะฐะฒะธะปัะฝะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั Hebrew

2. **ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐ https://paraloom.co.il/en**
   - ะฏะทัะบ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฟัะตะดะตะปัะตััั ะบะฐะบ **ะฐะฝะณะปะธะนัะบะธะน**
   - ะัะต ะบะฝะพะฟะบะธ, labels, alerts ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ

3. **ะะปะธะบ ะฝะฐ ะฟัะตะดัะดัััั ะบะฐััะพัะบั:**
   - ะะฐััะพัะบะฐ ะฟะตัะตะผะตัะฐะตััั ะฒ ัะตะฝัั (ะฐะบัะธะฒะฝะฐั ะทะพะฝะฐ)
   - ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะตั ะฒ ะฑะพะปััะพะผ ัะฐะทะผะตัะต
   - ะะพะถะตั ััะฐะทั ะดะพะฑะฐะฒะธัั ะฒ ะบะพัะทะธะฝั

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะัะพะฒะตัะบะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะทัะบะฐ:

1. ะัะบัะพะนัะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12)
2. ะ iframe ะดะพะปะถะฝะพ ะฟะพัะฒะธัััั:
   ```
   CLIENT: Detected locale from parent URL: he, URL: https://paraloom.co.il/...
   ```
   ะธะปะธ
   ```
   CLIENT: Detected locale from parent URL: en, URL: https://paraloom.co.il/en/...
   ```

### ะัะพะฒะตัะบะฐ ะฟะตัะตะฒะพะดะพะฒ:

- โ ะัะต ะบะฝะพะฟะบะธ ะธ labels ะฝะฐ ะฟัะฐะฒะธะปัะฝะพะผ ัะทัะบะต
- โ Alert ัะพะพะฑัะตะฝะธั ะฝะฐ ะฟัะฐะฒะธะปัะฝะพะผ ัะทัะบะต
- โ ะจัะธัั Rubik ะดะปั ะธะฒัะธัะฐ

### ะัะพะฒะตัะบะฐ ะบะปะธะบะฐ ะฝะฐ ะบะฐััะพัะบั:

1. ะกะพะทะดะฐะนัะต ะฝะตัะบะพะปัะบะพ artwork
2. ะะปะธะบะฝะธัะต ะฝะฐ ะปัะฑัั ะบะฐััะพัะบั ะฒ grid
3. โ ะะพะปะถะตะฝ ะฑััั ะฟะตัะตัะพะด ะฝะฐ ัะฐะณ 3
4. โ ะะปะธะบะฝััะฐั ะบะฐััะพัะบะฐ ะดะพะปะถะฝะฐ ะฑััั ะฒ ัะตะฝััะต (ะฐะบัะธะฒะฝะฐั)
5. โ ะััะฐะปัะฝัะต ะบะฐััะพัะบะธ ะฒ grid ะฟะพะด ัััะตัะพะผ

---

## ๐ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ:

```python
try:
  parent_url = anvil.js.window.parent.location.href
  if '/en' in parent_url:
    self.locale = 'en'
  else:
    self.locale = 'he'  # Default
except:
  # Cross-origin protection - ะธัะฟะพะปัะทัะตะผ fallback
  self.locale = url_params.get('locale', 'he')
```

**ะะพัะตะผั `try/except`?**
- ะัะปะธ iframe ะฝะฐ ะดััะณะพะผ ะดะพะผะตะฝะต (cross-origin), ะดะพัััะฟ ะบ `parent.location` ะทะฐะฑะปะพะบะธัะพะฒะฐะฝ ะฑัะฐัะทะตัะพะผ
- ะ ััะพะผ ัะปััะฐะต ะธัะฟะพะปัะทัะตััั fallback: ะฟะฐัะฐะผะตัั URL ะธะปะธ default (ะธะฒัะธั)

### ะะพะบะฐะปะธะทะฐัะธั alert:

```python
if self.locale == 'he':
  alert("ืืงืืืฅ ืืืื ืืืืืช ืชืืืื!")
else:
  alert("File must be an image!")
```

### ะะทะฑะตะณะฐะตะผ f-strings (Skulpt ะพะณัะฐะฝะธัะตะฝะธะต):

โ **ะะตะฟัะฐะฒะธะปัะฝะพ:**
```python
alert(f"ืืืจื ืืื: {length_meters} ืืืจืื")
```

โ **ะัะฐะฒะธะปัะฝะพ:**
```python
alert('ืืืจื ืืื: ' + str(length_meters) + ' ืืืจืื')
```

---

## ๐ ะะตะทัะปััะฐั

ะัะธะปะพะถะตะฝะธะต ัะตะฟะตัั ะฟะพะปะฝะพัััั **ะฑะธะปะธะฝะณะฒะฐะปัะฝะพะต** (ะธะฒัะธั/ะฐะฝะณะปะธะนัะบะธะน) ะธ **ัะผะตะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฟัะตะดะตะปััั ัะทัะบ** ะฟะพ URL ัะพะดะธัะตะปััะบะพะน ัััะฐะฝะธัั Shopify!

ะะพะณะธะบะฐ ะบะปะธะบะฐ ะฝะฐ ะบะฐััะพัะบะธ ัะฐะฑะพัะฐะตั ะธะฝััะธัะธะฒะฝะพ - **ะบะปะธะบ ะฟะตัะตะฝะพัะธั ะบะฐััะพัะบั ะฒ ะฐะบัะธะฒะฝัั ะทะพะฝั** ะดะปั ัะดะพะฑะฝะพะณะพ ะดะพะฑะฐะฒะปะตะฝะธั ะฒ ะบะพัะทะธะฝั.

